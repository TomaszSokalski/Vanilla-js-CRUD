{"version":3,"sources":["src/js/elements.js","src/js/service.js","src/js/form-actions.js","src/js/table-actions.js","src/js/main.js"],"names":["getElement","selector","document","querySelector","Math","randomNumberFromRange","min","max","random","Date","formattedDate","date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","concat","TASKS_TABLE","exports","TABLE","FORM","SHOW_BUTTON","SORT_BUTTON","CLOSE_BUTTON","DIALOG","LOADER","DATA_TABLE","TASKS_STATUS","new","in_process","done","INIT_PAYLOAD","id","status","localStorageService","setItem","key","value","localStorage","JSON","stringify","getItem","parse","index","removeItem","clear","getTasks","table","i","length","push","createTable","tasks","_step","tableContent","_iterator","_createForOfIteratorHelper","s","n","el","title","description","date_to","owner","innerHTML","err","e","f","_elements","require","_service","_typeof","obj","Symbol","iterator","constructor","prototype","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_i","_s","_e","_x","_r","_arr","_n","_d","call","next","Object","return","Array","isArray","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","o","allowArrayLike","it","F","_e2","normalCompletion","didErr","step","_e3","minLen","_arrayLikeToArray","slice","name","from","test","len","arr2","formActions","setAttribute","addEventListener","showModal","preventDefault","close","reset","formPayload","FormData","_step$value","payLoad","style","display","setTimeout","history","go","tableActions","classList","contains","window","confirm","closest","_e$target$closest","remove","_e$target$closest$que","changedPayload","handleStorageActions","_step2","_iterator2","sortByKey","_formActions","_tableActions","sort","a","b"],"mappings":"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","file":"main.ccf50da5.js","sourceRoot":"..","sourcesContent":["const getElement = (selector) => document.querySelector(selector);\r\n\r\nMath.randomNumberFromRange = function(min, max) {\r\n    return ~~(Math.random() * (max - min) + min);\r\n};\r\n\r\nDate.formattedDate = function () {\r\n    const date = new Date();\r\n    const day = date.getDate().toString().padStart(2, '0');\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = date.getFullYear();\r\n\r\n    return `${year}-${month}-${day}`;\r\n};\r\n\r\nexport const TASKS_TABLE = getElement('.tasks');\r\nexport const TABLE = getElement('.table');\r\nexport const FORM = getElement('form');\r\nexport const SHOW_BUTTON = getElement('.showDialog');\r\nexport const SORT_BUTTON = getElement('.sort');\r\nexport const CLOSE_BUTTON = getElement('.form-row:last-child > button');\r\nexport const DIALOG = getElement('dialog');\r\nexport const LOADER = getElement('.loader');\r\nexport const DATA_TABLE = [];\r\n\r\n\r\nexport const TASKS_STATUS = {\r\n    new: 'new',\r\n    in_process: 'in_process',\r\n    done: 'done'\r\n};\r\n\r\nexport const INIT_PAYLOAD = {\r\n    id: Math.randomNumberFromRange(1, 1000),\r\n    date: Date.formattedDate(),\r\n    status: TASKS_STATUS.new\r\n};","export const localStorageService = {\r\n    setItem(key, value) {\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n    },\r\n    getItem(key) {\r\n        return JSON.parse(localStorage.getItem(key));\r\n    },\r\n    key(index) {\r\n        return localStorage.key(index);\r\n    },\r\n    removeItem(key) {\r\n        localStorage.removeItem(key);\r\n    },\r\n    clear() {\r\n        localStorage.clear();\r\n    }\r\n};\r\n\r\nexport const getTasks = table => {\r\n    for (let i = 0; i < localStorage.length; i++) {\r\n        const key = localStorageService.key(i);\r\n        if (key >= 0 && key <= 1000) {\r\n            table.push(localStorageService.getItem(key))\r\n        }\r\n    }\r\n    return table;\r\n};\r\n\r\nexport const createTable = (table, tasks) => {\r\n    let tableContent = '';\r\n\r\n    for (const el of table) {\r\n        //language=html\r\n        tableContent += `\r\n            <tr>\r\n               <td class=\"idValue\">${el.id}</td>\r\n               <td>${el.title}</td>\r\n               <td>${el.description}</td>\r\n                <td>\r\n                    <select name=\"status\" class=\"status\">\r\n                        <option value=\"${el.status}\">${el.status}</option>\r\n                        <option value=\"in_process\">in_process</option>\r\n                        <option value=\"done\">done</option>\r\n                    </select>\r\n                </td>\r\n                <td>${el.date}</td>\r\n                <td>${el.date_to}</td>\r\n                <td>\r\n                    <select name=\"changeOwner\" class=\"changeOwner\">\r\n                        <option value=\"\">${el.owner}</option>\r\n                        <option value=\"user_1\">user_1</option>\r\n                        <option value=\"user_2\">user_2</option>\r\n                        <option value=\"user_3\">user_3</option>\r\n                    </select>\r\n                </td>\r\n               <td>\r\n                  <button class=\"delete-button btn-close\">delete</button>\r\n               </td>\r\n            </tr>\r\n         `;\r\n\r\n        tasks.innerHTML = tableContent;\r\n    }\r\n};","import { DIALOG, CLOSE_BUTTON, SHOW_BUTTON, FORM, LOADER } from './elements';\r\nimport { INIT_PAYLOAD } from './elements';\r\nimport { localStorageService } from './service';\r\n\r\nexport const formActions = () => {\r\n    document.querySelector('.time').setAttribute('min', Date.formattedDate());\r\n\r\n    SHOW_BUTTON.addEventListener('click', () => {\r\n        DIALOG.showModal();\r\n        CLOSE_BUTTON.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            DIALOG.close();\r\n            FORM.reset();\r\n        });\r\n    });\r\n\r\n    FORM.addEventListener('submit', e => {\r\n        e.preventDefault();\r\n        const formData = new FormData(FORM);\r\n        const formPayload = {};\r\n\r\n        for (const [key, value] of formData) {\r\n            formPayload[key] = value\r\n        }\r\n        const payLoad = {...INIT_PAYLOAD, ...formPayload};\r\n        localStorageService.setItem(payLoad.id , payLoad);\r\n\r\n        LOADER.style.display = 'block';\r\n            setTimeout(() => {\r\n                LOADER.style.display = 'none';\r\n                history.go(0);\r\n            } , 500);\r\n            DIALOG.close();\r\n    });\r\n};\r\n\r\n","import { TASKS_TABLE, TABLE, SORT_BUTTON, DATA_TABLE, LOADER } from './elements';\r\nimport { localStorageService, getTasks, createTable } from './service';\r\n\r\nexport const tableActions = () => {\r\n\r\n    TABLE.addEventListener('click', e => {\r\n        if (e.target.classList.contains('delete-button')) {\r\n            if (!window.confirm('Are you sure to remove task?')) {\r\n                return;\r\n            }\r\n            localStorageService.removeItem(e.target.closest('tr').querySelector('.idValue').innerHTML);\r\n\r\n            LOADER.style.display = 'block';\r\n            setTimeout(() => {\r\n                LOADER.style.display = 'none';\r\n                e.target.closest('tr')?.remove();\r\n                history.go(0);\r\n            } , 500);\r\n        }\r\n        if (e.target.classList.contains('deleteAll-button')) {\r\n            if (!window.confirm('Are you sure to remove all tasks?')) {\r\n                return;\r\n            }\r\n            localStorageService.clear();\r\n\r\n            LOADER.style.display = 'block';\r\n            setTimeout(() => {\r\n                LOADER.style.display = 'none';\r\n                e.target.closest('table').querySelector('.task')?.remove();\r\n                TASKS_TABLE.innerHTML = 'No tasks to display';\r\n                history.go(0);\r\n            } , 500);\r\n        }\r\n    });\r\n\r\n    TABLE.addEventListener('change', e => {\r\n        const id = e.target.closest('tr').querySelector('.idValue').innerHTML;\r\n        const changedPayload = DATA_TABLE.filter(el => el.id === +id);\r\n        const handleStorageActions = () => {\r\n            localStorageService.removeItem(id);\r\n            localStorageService.setItem(id, changedPayload[0]);\r\n        };\r\n\r\n        if (e.target.classList.contains('status')) {\r\n            for (const el of changedPayload) {\r\n                if (!window.confirm(`Change status to ${e.target.value}`)) {\r\n                    return;\r\n                }\r\n                el.status = e.target.value;\r\n            }\r\n\r\n            handleStorageActions();\r\n        }\r\n        if (e.target.classList.contains('changeOwner')) {\r\n            for (const el of changedPayload) {\r\n                if (window.confirm(`Change status to ${e.target.value}`)) {\r\n                    el.owner = e.target.value\r\n                }\r\n            }\r\n\r\n            handleStorageActions();\r\n        }\r\n    });\r\n\r\n    SORT_BUTTON.addEventListener('click', () => {\r\n        TASKS_TABLE.innerHTML = '';\r\n        DATA_TABLE.sortByKey('id');\r\n        createTable(DATA_TABLE, TASKS_TABLE);\r\n    })\r\n\r\n    getTasks(DATA_TABLE);\r\n    createTable(DATA_TABLE, TASKS_TABLE);\r\n};","import { formActions } from './form-actions';\r\nimport { tableActions } from './table-actions';\r\n\r\nArray.prototype.sortByKey = function (key) {\r\n    this.sort((a, b) => {\r\n        if (a[key] > b[key]) {\r\n            return 1;\r\n        }\r\n\r\n        if (a[key] < b[key]) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    })\r\n};\r\n\r\nformActions();\r\ntableActions();"]}